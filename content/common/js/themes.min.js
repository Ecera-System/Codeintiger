!function(h,a,e,c){"use strict";var u=a.csk=a.csk||{};u.i18n=u.i18n||{},u.themes=u.themes||{},u.i18n.themes=u.i18n.themes||{};var t=u.config.currentURL,n="#theme-details",i="#theme-modal";u.themes.proceed=function(e,t){var n=h(e),i=n.attr("href"),o=n.closest(".theme-item"),s=o.data("name")||"this";t=t||-1;if(void 0===i||!i.length)return!1;o.siblings().addClass("op-2");var r=u.i18n.themes[t]||c;void 0===r&&void 0===(r=u.i18n.default[t]||c)&&(r="Are you sure you to "+t+" %s?"),u.ui.confirm(h.sprintf(r,s),function(){a.location.href=i},function(){o.siblings().removeClass("op-2")})},u.themes.details=function(e){var t=h(e).attr("href");if(void 0===t||!t.length)return!1;h(n).load(t+" "+n+" > *",function(){a.history.pushState({href:t},"",t),h(i).modal("show")})},h(e).ready(function(){0<t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),h(e).on("hidden.bs.modal",i,function(e){a.history.pushState({href:t},"",t),h(this).remove()}),h(e).on("click",".theme-details",function(e){return e.preventDefault(),u.themes.details(this)}),h(e).on("click",".theme-activate",function(e){return e.preventDefault(),u.themes.proceed(this,"activate")}),h(e).on("click",".theme-delete",function(e){return e.preventDefault(),u.themes.proceed(this,"delete")})})}(window.jQuery||window.Zepto,window,document);
